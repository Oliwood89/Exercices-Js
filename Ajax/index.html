<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

    <script>
/*
        const req = new XMLHttpRequest()

        const quote = document.querySelector("#quote")
        
        req.onreadystatechange = (event) => {
            if (req.readyState === XMLHttpRequest.DONE) {
                if (req.status === 200) {
                    json = JSON.parse(req.response)
                    console.log(json.quote)
                    const text = document.createTextNode(json.quote)
                    quote.appendChild(text)
                    let cite = document.createElement("cite")
                    cite.innerHTML = json.author
                    quote.appendChild(cite)
                }
                else {
                    console.log("Erreur", req.status)
                }
            }
        }

        req.open("GET", "https://thatsthespir.it/api")
        req.send()
    */
    /* let citation = {
        quote : "Becode est merveilleux",
        author : "LudovicPatho",
        id : 789789,
        gender : "m"

    }
    console.log(citation.author) */

    const getRandomInt = (min,max) => {
        min = Math.ceil(min)
        max = Math.floor(max)
        return Math.floor(Math.random() * (max - min)) + min
    }


    const req = new XMLHttpRequest ()
    a= []
    b = []
    c = []
    req.onreadystatechange = (event) => {
        if (req.readyState === XMLHttpRequest.DONE) {
            if (req.status === 200) {

                res = JSON.parse(req.response)
                console.log(res)
                res.map((element) => element["score"] = getRandomInt(0, 1000))
                res.sort((el1,el2) => el1.score - el2.score)
                res.forEach(element=>{
                    if(element.score > 750){
                        a.push(element)
                    }
                    else if (element.score > 500) {
                        b.push(element)
                    }
                    else {
                        c.push(element)
                    }
                })

                const filtre = res.filter((element) => element.country == "Barhein")
            }
        }
    }
    </script>
</body>
</html>